{"ast":null,"code":"import { storageRef } from \"../utils/firebase\";\nexport default class MyUploadAdapter {\n  constructor(loader) {\n    this.loader = loader;\n  } // Starts the upload process.\n\n\n  upload() {\n    return this.loader.file.then(file => {\n      let uploadTask = storageRef.child(file.name).put(file, {\n        type: \"image/jpeg\"\n      });\n      uploadTask.on(\"state_changed\", // or 'state_changed'\n      function (snapshot) {\n        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n        var progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n        console.log(\"Upload is \" + progress + \"% done\");\n      }, function (error) {\n        // A full list of error codes is available at\n        // https://firebase.google.com/docs/storage/web/handle-errors\n        // eslint-disable-next-line default-case\n        console.log(error);\n      }, function () {\n        // Upload completed successfully, now we can get the download URL\n        uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n          console.log(\"File available at\", downloadURL);\n          return downloadURL;\n        });\n      });\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/niteshsolanki/Downloads/portfolio/src/config/myUploadAdapter.js"],"names":["storageRef","MyUploadAdapter","constructor","loader","upload","file","then","uploadTask","child","name","put","type","on","snapshot","progress","bytesTransferred","totalBytes","console","log","error","ref","getDownloadURL","downloadURL"],"mappings":"AAAA,SAASA,UAAT,QAA2B,mBAA3B;AAEA,eAAe,MAAMC,eAAN,CAAsB;AACnCC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAClB,SAAKA,MAAL,GAAcA,MAAd;AACD,GAHkC,CAInC;;;AACAC,EAAAA,MAAM,GAAG;AACP,WAAO,KAAKD,MAAL,CAAYE,IAAZ,CAAiBC,IAAjB,CAAuBD,IAAD,IAAU;AACrC,UAAIE,UAAU,GAAGP,UAAU,CACxBQ,KADc,CACRH,IAAI,CAACI,IADG,EAEdC,GAFc,CAEVL,IAFU,EAEJ;AAAEM,QAAAA,IAAI,EAAE;AAAR,OAFI,CAAjB;AAGAJ,MAAAA,UAAU,CAACK,EAAX,CACE,eADF,EACmB;AACjB,gBAAUC,QAAV,EAAoB;AAClB;AACA,YAAIC,QAAQ,GACTD,QAAQ,CAACE,gBAAT,GAA4BF,QAAQ,CAACG,UAAtC,GAAoD,GADtD;AAEAC,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAeJ,QAAf,GAA0B,QAAtC;AACD,OAPH,EAQE,UAAUK,KAAV,EAAiB;AACf;AACA;AACA;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,OAbH,EAcE,YAAY;AACV;AACAZ,QAAAA,UAAU,CAACM,QAAX,CAAoBO,GAApB,CAAwBC,cAAxB,GAAyCf,IAAzC,CAA8C,UAAUgB,WAAV,EAAuB;AACnEL,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCI,WAAjC;AACA,iBAAOA,WAAP;AACD,SAHD;AAID,OApBH;AAsBD,KA1BM,CAAP;AA2BD;;AAjCkC","sourcesContent":["import { storageRef } from \"../utils/firebase\";\r\n\r\nexport default class MyUploadAdapter {\r\n  constructor(loader) {\r\n    this.loader = loader;\r\n  }\r\n  // Starts the upload process.\r\n  upload() {\r\n    return this.loader.file.then((file) => {\r\n      let uploadTask = storageRef\r\n        .child(file.name)\r\n        .put(file, { type: \"image/jpeg\" });\r\n      uploadTask.on(\r\n        \"state_changed\", // or 'state_changed'\r\n        function (snapshot) {\r\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n          var progress =\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          console.log(\"Upload is \" + progress + \"% done\");\r\n        },\r\n        function (error) {\r\n          // A full list of error codes is available at\r\n          // https://firebase.google.com/docs/storage/web/handle-errors\r\n          // eslint-disable-next-line default-case\r\n          console.log(error);\r\n        },\r\n        function () {\r\n          // Upload completed successfully, now we can get the download URL\r\n          uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\r\n            console.log(\"File available at\", downloadURL);\r\n            return downloadURL;\r\n          });\r\n        }\r\n      );\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}